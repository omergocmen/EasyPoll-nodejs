<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EasyPoll</title>
    <meta property="og:type" content="website">
    <meta name="description" content="Toplantılarınız için en uygun zamanı belirlemenizi sağlayan kullanımı kolay bir uygulama.">
    <meta property="og:image" content="/assets/img/EASYPOLL.png">

    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/Contact-Form-Clean.css">
    <link rel="stylesheet" href="/assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="/assets/css/Footer-Basic.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="/assets/css/Navigation-with-Search.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/Team-Clean.css">
    <link rel="stylesheet" href="/assets/css/Article-List.css">
    <link rel="stylesheet" href="/assets/css/Registration-Form-with-Photo.css">
    <link rel="stylesheet" href="/assets/css/calendar.css">
  
</head>
<body>
    <%- body %> 
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="/assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="/assets/js/datepicker.js"></script>
    <script>
        $('.date').datepicker({
            multidate: false,
        });
 const mybtn=document.querySelector(".mybtn");
 const myInput=document.querySelector(".date");
 const cards=document.querySelector(".cards");
 const cardList=[];
 const clearsButton=document.querySelector(".mybtn-clear");

 cards.addEventListener("click",(e)=>{
  if(e.target.className==="fas fa-trash")
  {
      removeElement(e.target);
  }
})

function removeElement(target)
{
    const name=(target.parentElement.textContent);
    const index = cardList.indexOf(name);
    if (index !== -1){cardList.splice(index, 1);}
    
    target.parentElement.parentElement.parentElement.remove();
}

 mybtn.addEventListener("click",()=>
 {
    cards.innerHTML="";
    cardList.splice(0,cardList.length);
 })

 myInput.addEventListener("focus",function(e){

    if(e.target.value!="")
    {   
        if(!cardList.includes(e.target.value))
        {
        cardList.push(e.target.value);
        console.log(cardList);
        cards.innerHTML="";
        writeInList(cardList);
        }
    }

 });
 
 function existInList(value)
 {
    cardList.forEach(element=>{
        if(element===value)
        {   
            return true;
        }
       
    })
  
    return false;
 }

 function getDayName(dateStr, locale){
var date = new Date(dateStr);
console.log(date);
return date.toLocaleDateString(locale, { day: 'numeric', month: 'numeric', year: 'numeric', weekday: 'long' });        
}



  function writeInList(list)    
  { 
      list.forEach(element => {
        
        cards.innerHTML+=`
  <div class="card mb-2 mt-2 " style="min-width: 160px !important; width:100% !important; border: 0.5px solid #FF7B01; margin-bottom: 30px !important; ">
     <div class="card-body">
        
         <h3  class="card-title">${getDayName(element, "tr")}<i class="fas fa-trash" style="margin-left:25px"></i></h3>
         <input name="date" style="visibility:hidden";  id="inputMDEx1" value=${getDayName(element, "tr")} class="form-control ">   
         <div class="md-form">
            <input name="beginTime" type="time" id="inputMDEx1" class="form-control">
            <label for="inputMDEx1">Başlangıç saati</label>
        
         
         </div>
            <input name="endTime" type="time" id="inputMDEx1" class="form-control">
            <label for="inputMDEx1">Bitiş saati</label>
         </div>
 </div>
  `;    });
  }
 
    </script>
</body>
</html>
